(()=>{var e={5417:(e,t,n)=>{"use strict";n.d(t,{l:()=>o,a:()=>r,h:()=>s});const o={army:1,bid:3,cc:1,cf:3,club:2,ga:2,gdn:3,gq:3,icu:1,info:1,ml:2,online:2,pw:3,stream:3,su:3,tech:3,tk:1,top:1,win:3,xyz:1},r=["apk","bin","com","dat","dll","exe","gadget","inf","jar","lnk","msi","pif","scf","scr","slk","bat","cgi","cmd","hta","js","jse","pl","ps1","ps1m","ps1xml","ps2","ps2xml","psc1","psc2","py","sh","vb","vba","vbe","vbs","vbscript","ws","wsc","wsf","doc","docm","docx","dot","dotm","dotx","pot","potm","potx","ppa","ppam","pps","ppsm","ppsx","ppt","pptm","pptx","xla","xlam","xls","xlsb","xlsm","xlsx","xlt","xltm","xltx","7z","arj","deb","gz","pkg","rar","rpm","tar","z","zip","dmg","iso"],s=[".bat.txt",".ps1.txt",".sh.txt",".py.txt"],i=new Map;i.set([...r,...s],"/wp-.*/"),i.set(["exe"],"/wp-(content|admin|includes)/")},8035:(e,t,n)=>{"use strict";n.d(t,{h:()=>r,b:()=>s,a:()=>i});var o=n(5417);new RegExp(`/\\d{10}\\w{6}\\.(${o.a.join("|")}|${o.h.map((e=>e.split(".").slice(1).join("\\."))).join("|")})`,"i");const r=/^((25[0-5]|(2[0-4]|1[0-9]|[1-9]|)[0-9])(\.(?!$)|$)){4}$/,s=new RegExp("onepage|checkout|onestep|firecheckout|onestepcheckout|onepagecheckout"),i=new RegExp("cart")},4846:(e,t,n)=>{"use strict";n.d(t,{chrome:()=>o});let o=window.chrome||window.browser||browser;navigator.userAgent.includes("Edge/")&&(o=window.browser)},7456:(e,t,n)=>{"use strict";n.d(t,{C:()=>s,f:()=>a,i:()=>c,r:()=>d,u:()=>u}),n(2663);var o=n(8035),r=n(4846);const s=function(e){e.toLowerCase().startsWith("blob:")&&(e=e.substring(5));try{return new URL(e).hostname}catch(t){return e.toLowerCase().startsWith("http://")||e.toLowerCase().startsWith("https://")?e:new URL(`http://${e}`).hostname}};let i={};Object.defineProperty(i,"browser",{writable:!0});const a=function(){return i.browser?i.browser:navigator.userAgent.includes("Firefox/")?i.browser="Firefox":navigator.userAgent.includes("Opera/")||navigator.userAgent.includes("OPR/")?i.browser="Opera":navigator.userAgent.includes("Edge/")||navigator.userAgent.includes("Edg/")?i.browser="Edge":navigator.userAgent.includes("Chrome/")?i.browser="Chrome":navigator.userAgent.includes("Safari/")?i.browser="Safari":"Browser"};Object.defineProperty({},"os",{writable:!0});const c=function(e,t,n,o,i,a,c=null){return r.chrome.runtime.getURL("app/eventpages/block.html")+"?"+l({referrer:e,url:t,host:s(t),type:n,subtype:o,tabId:i,filename:a,prevUrl:c})},l=function(e){let t=new URLSearchParams;for(let n in e)e.hasOwnProperty(n)&&t.set(n,e[n]);return t.toString()},d=function(e){let t=document.createElement("script");t.textContent=e;let n=document.head||document.documentElement;n.insertBefore(t,n.firstChild),t.remove()},u=(e="")=>o.h.test(e)},6376:(e,t,n)=>{"use strict";n.d(t,{b:()=>o.a});var o=n(2977);n(4373)},2977:(e,t,n)=>{"use strict";function o(){return{domain:null,domainWithoutSuffix:null,hostname:null,isIcann:null,isIp:null,isPrivate:null,publicSuffix:null,subdomain:null}}n.d(t,{a:()=>o}),n(4373)},4373:(e,t,n)=>{},2663:(e,t,n)=>{"use strict";var o=n(6376);n(779),(0,o.b)()},6709:(e,t,n)=>{},779:(e,t,n)=>{"use strict";n(6376),n(6709)}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var s=t[o]={exports:{}};return e[o](s,s.exports,n),s.exports}n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.p="",window.chrome=chrome||window.chrome||window.browser,n.p=window.chrome.runtime.getURL(""),(()=>{"use strict";var e=n(4846);console.debug("INS: content-ads.js loaded:  "+window.location.href);const t=`${window.location.protocol}//${window.location.hostname}`,o=()=>new Promise(((t,n)=>{e.chrome.runtime.sendMessage({type:"MSG_TAB_INFO_GET"},(e=>{e?t(e):n(new Error(e))}))})),r=t=>{try{e.chrome.runtime.sendMessage({type:"MSG_RECORD_CONTENT_AD",tabId:t.id,tabUrl:t.url})}catch(e){console.error("RBAD: Error occurred while recording blocked ad. "+e)}},s=e=>e&&e.style&&e.style.display&&"none"==e.style.display.trim(),i=n=>new Promise((o=>{e.chrome.runtime.sendMessage({type:"MSG_IS_AD_PROTECTION_ACTIVE",tabId:n,domain:t},(e=>{e&&o(e.isActive)}))}));if(window.location.href.includes("facebook.com/")){let e="en";const t=e=>{document.querySelectorAll('#contentArea div[id^="hyperfeed_story_id_"]').forEach((t=>{if(t.innerText.includes("Sponsored")&&Array.from(t.getElementsByTagName("span")).some((e=>"Sponsored"===e.innerText))&&!t.querySelector('div[role="textbox"]')&&!s(t))return r(e),t.style.display="none";const n=t.querySelector('a span[data-content="S"]');if(n){const e=n.getBoundingClientRect();(e.width>0||e.height>0)&&(t.style.display="none")}}));const t=document.getElementById("pagelet_ego_pane");t&&t.innerText.includes("Sponsored")&&(t.style.display="none")},n=e=>{const t=document.querySelectorAll('div[role^="feed"] > div');for(let n of t)a(n)&&!s(n)&&(n.style.display="none",r(e))},a=e=>l(e)||u(e),c=(e,t,n=.001)=>Math.abs(e-t)<=n,l=t=>{const n=t.querySelectorAll("a")[3];if(!n)return!1;let o=n.querySelectorAll("b.l9j0dhe7");if(0==o.length&&(o=n.querySelectorAll("span.l9j0dhe7")),0==o.length)return!1;const r=n.getBoundingClientRect().y;let s="";const i=[];Array.from(o).forEach((e=>{0==e.children.length&&e.textContent.length>=1&&!e.hasAttribute("style")&&e.getBoundingClientRect().y==r&&(s+=e.textContent),e.style&&e.style.order&&e.textContent.length<=2&&c(e.getBoundingClientRect().y,r,2)&&i.push({text:e.textContent,order:parseInt(e.style.order)})}));const a=i.sort(((e,t)=>e.order<t.order?-1:1)).map((e=>e.text)).join("");return d[e].isSponsored(s)||d[e].isSponsored(a)},d={en:{isSponsored:e=>e.endsWith("ponsored"),isSuggested:e=>e.endsWith("uggested for you")},es:{isSponsored:e=>e.endsWith("ublicidad"),isSuggested:e=>e.endsWith("ugerencia para ti")},pt:{isSponsored:e=>e.endsWith("atrocinado"),isSuggested:e=>e.endsWith("ugestões para você")||e.endsWith("ugestões para ti")},de:{isSponsored:e=>e.endsWith("esponsert"),isSuggested:e=>e.endsWith("orschläge für dich")},fr:{isSponsored:e=>e.endsWith("ponsorisé")||e.endsWith("ommandité"),isSuggested:e=>e.endsWith("uggestion pour vous")},it:{isSponsored:e=>e.endsWith("ponsorizzato"),isSuggested:e=>e.endsWith("ontenuto suggerito per te")},nl:{isSponsored:e=>e.endsWith("esponsord"),isSuggested:e=>e.endsWith("oorgesteld voor jou")},pl:{isSponsored:e=>e.endsWith("ponsorowane"),isSuggested:e=>e.endsWith("roponowana dla ciebie")},ru:{isSponsored:e=>e.endsWith("еклама"),isSuggested:e=>e.endsWith("екомендация для вас")}},u=t=>{const n=t.querySelector("div.rq0escxv.l9j0dhe7 > span.d2edcug0.hpfvmrgz");if(!n)return!1;const o=n.innerText.trim().toLowerCase();return d[e].isSuggested(o)},m=e=>{new MutationObserver((t=>{t.forEach((t=>{"childList"===t.type&&t.addedNodes.forEach((t=>{"div"===t.localName&&t.parentElement&&"feed"===t.parentElement.getAttribute("role")&&a(t)&&!s(t)&&(t.style.display="none",r(e))}))}))})).observe(document.body,{childList:!0,subtree:!0})},p=t=>{const n=document.querySelector("div[role='complementary'] > div > div > div > div > div > span"),o=n&&n.querySelector("span");o&&d[e].isSponsored(o.textContent)&&!s(n)&&(n.style.display="none",r(t))},g=()=>{const e=document.documentElement.lang,t=Object.keys(d);if(e&&t.includes(e))return e;const n=document.querySelector("input[type='search']");switch(n&&n.placeholder||""){case"Search Facebook":return"en";case"Buscar en Facebook":case"Busca en Facebook":return"es";case"Pesquisar no Facebook":case"Pesquisa no Facebook":return"pt";case"Facebook durchsuchen":return"de";case"Rechercher sur Facebook":return"fr";case"Cerca su Facebook":return"it";case"Zoeken op Facebook":return"nl";case"Szukaj na Facebooku":return"pl";case"Поиск на Facebook":return"ru"}return"en"};o().then((async e=>({shouldBlockAds:await i(e.id),tab:e}))).then((o=>{const{shouldBlockAds:r,tab:s}=o;!1!==r&&(e=g(),t(s),setInterval((()=>t(s)),2e3),p(s),setInterval((()=>p(s)),2e3),n(s))})).catch((e=>{console.error("FBA: Error occurred while hiding facebook ads. ",e)}));const h=async()=>{const t=await o();!1!==await i(t.id)&&(e=g(),n(t),m(t))};"loading"!==document.readyState?h():document.addEventListener("DOMContentLoaded",(()=>{h()}))}if(window.location.href.includes("twitter.com/")){const e=e=>{document.querySelectorAll('main div[data-testid="placementTracking"]').forEach((t=>{[t.innerHTML,t.innerText,t.textContent].some((e=>e.includes("Promoted")))&&!s(t)&&(t.style.display="none",r(e))}))};o().then((async e=>({shouldBlockAds:await i(e.id),tab:e}))).then((t=>{const{shouldBlockAds:n,tab:o}=t;!1!==n&&(e(o),setInterval((()=>e(o)),2e3))}))}if(window.location.href.includes("youtube.com/")){const e=e=>{const t=document.getElementById("player-ads");t&&(t.style.display="none");const n=document.getElementsByTagName("ytd-display-ad-renderer");for(let t=0;t<n.length;t++)n[t]&&n[t].closest&&n[t].closest("ytd-rich-item-renderer")&&!s(n[t].closest("ytd-rich-item-renderer"))&&(n[t].closest("ytd-rich-item-renderer").style.display="none",r(e));[document.getElementsByTagName("ytd-promoted-sparkles-web-renderer"),document.getElementsByTagName("ytd-compact-promoted-video-renderer")].forEach((t=>{for(let n=0;n<t.length;n++)t[n]&&(s(t[n])?t[n].style.display="none":(t[n].style.display="none",r(e)))}))},t=e=>{const t=document.getElementsByClassName("ytp-ad-skip-button ytp-button");if(t&&t[0])return t[0].click(),void r(e);const n=document.getElementsByClassName("ytp-ad-duration-remaining");if(n&&n[0]){const t=document.querySelector("video");t&&(t.currentTime=t.duration,r(e))}};document.addEventListener("DOMContentLoaded",(function(){o().then((async n=>{!1!==await i(n.id)&&(t(n),e(n),setInterval((()=>e(n)),2e3),setInterval((()=>t(n)),1500))}))}))}if(window.location.href.includes("reddit.com/")){const e=e=>{const t=document.getElementsByClassName("promotedlink");for(let n=0;n<t.length;n++)t[n]&&!s(t[n])&&(t[n].style.display="none",r(e))};o().then((async t=>{!1!==await i(t.id)&&(e(t),setInterval((()=>e(t)),2e3))}))}if(window.location.href.includes("linkedin.com/")){let e,t="en";const n={en:{isPromoted:e=>"promoted"==e},es:{isPromoted:e=>"promocionado"==e},pt:{isPromoted:e=>"patrocinado"==e},fr:{isPromoted:e=>"post sponsorisé"==e},it:{isPromoted:e=>"post sponsorizzato"==e},nl:{isPromoted:e=>"gepromoot"==e},pl:{isPromoted:e=>"treść promowana"==e},ru:{isPromoted:e=>"продвигается"==e}},a=e=>{const o=e.querySelectorAll('div[data-control-name="actor"] span.t-12.t-black--light'),r=o[o.length-1],s=(r&&r.innerText||"").trim().toLowerCase();return n[t].isPromoted(s)},c=e=>{let t=e;for(;t;){const e=t.getAttribute("data-id")||"";if(t.classList.contains("relative")&&e.startsWith("urn:"))return t;t=t.parentElement}return null},l=t=>{if("HTMLDivElement"===t.constructor.name&&a(t)){const n=c(t);n&&n.style&&!s(n)&&(n.style.display="none",r(e))}},d=()=>{new MutationObserver((e=>{e.forEach((e=>{"childList"===e.type&&e.addedNodes.forEach((e=>{l(e)}))}))})).observe(document.body,{childList:!0,subtree:!0})},u=()=>{const e=document.querySelectorAll("#main > div:nth-child(3) > div > div");for(let t of e)l(t)},m=()=>{const t=document.body.querySelectorAll(".ad-banner-container");for(let n of t)s(n)||(n.style.display="none",r(e))};document.addEventListener("DOMContentLoaded",(async()=>{e=await o(),!1!==await i(e.id)&&(t=document.documentElement.lang||"en",Object.keys(n).includes(t)||(t="en"),u(),d(),m(),setInterval((()=>m()),2e3))}))}if(["msn.com","cnet.com","gamespot.com","ign.com","slickdeals.net","webmd.com","sfgate.com","chron.com","metacritic.com","pcmag.com","ranker.com","chicagotribune.com","tvguide.com","newsweek.com","nasdaq.com","sporcle.com","medicinenet.com","edmunds.com","everydayhealth.com","sportingnews.com","metrolyrics.com","boston.com","thoughtcatalog.com","emedicinehealth.com","cafemom.com","streetchopperweb.com","seattlepi.com"].some((e=>window.location.href.includes(e+"/")))){const t=t=>{let n=document.head||document.documentElement,o=document.createElement("script");o.setAttribute("type","application/javascript"),o.textContent='var mbExtId = "'+e.chrome.runtime.id+'";',n.insertBefore(o,n.firstChild);let r=document.createElement("script");r.src=e.chrome.runtime.getURL(t),n.insertBefore(r,n.firstChild),r.remove(),o.remove()},n=e=>{const t={isWhitelisted:!1,property:e};window.postMessage({type:"isInstartWhitelistedResponse",parameters:JSON.stringify(t)},`${window.location.protocol}//${window.location.host}`)},o=(t,o)=>{e.chrome.runtime.sendMessage(e.chrome.runtime.id,{type:"isInstartWhitelisted",parameters:{href:window.location.href,prop:o}},(t=>{t&&t.isWhitelisted?console.debug("INS: "+o+" is whitelisted for "+window.location.href):(e.chrome.runtime.lastError&&console.error("INS: Failed with is-whitelisted request for "+o+": "+e.chrome.runtime.lastError.message),n(o))}))};window.addEventListener("message",(e=>{const t=new URL(e.origin).host;if("isInstartWhitelisted"===e.data.type&&t===window.location.host){const t=JSON.parse(e.data.parameters);o(t.href,t.prop)}})),t("injection-instart.js")}})(),(()=>{"use strict";var e=n(7456),t=n(4846),o=n(5417),r=n(8035);console.debug("TSS: content-tss.js loaded:  "+window.location.href);const s=/trojan *spyware *alert *- *error *code: *#.*/i,i=["cc-name","cc-number","cc-csc","cc-exp-month","cc-exp-year","cc-exp","cc-type"];var a,c={},l=!1,d=!1;c.nonce=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),c.warningRegex=/(\/warning.mp3)$/i;let u=window.location.href,m={};const p="Safari"===(0,e.f)();c.isSuspiciousPage=()=>(()=>{const e=document.getElementById("beep");return!!(e&&"AUDIO"===e.tagName&&e.hasAttribute("autoplay")&&(t=e.children,t&&t[0]&&"SOURCE"===t[0].tagName&&t[0].type&&"audio/mpeg"===t[0].type.toLowerCase()&&c.warningRegex.test(t[0].src)))&&(console.debug("TSS: Suspicious audio auto-player detected"),!0);var t})()||(()=>{const e=document.getElementsByTagName("h2");if(!e)return!1;for(let t=0;t<e.length;t++)if(e[t]&&s.test(e[t].innerText))return!0;return!1})(),c.onSuspiciousPage=()=>{console.debug("TSS: Caught a suspicious page"),c.onDetection("scam","suspiciousPage")},c.onDetection=(e,n)=>{l||d||(console.debug("TSS: Sending an onDetection message"),t.chrome.runtime.sendMessage({type:"detection",parameters:{type:e,subtype:n,url:u}},(t=>{console.debug(`TSS: Received onDetection message response ${t}`),t.detect?c.onDetectionImpl(e,n):c.onExclusion("detection")})))},c.getTabId=()=>new Promise(((e,n)=>{t.chrome.runtime.sendMessage({type:"MSG_TAB_ID_GET"},(t=>{console.debug("GET TAB ID RESPONSE: ",t),t&&t.tabId?e(t.tabId):n(new Error(t))}))})),c.isExcluded=e=>new Promise((n=>{t.chrome.runtime.sendMessage({type:"isExcluded",parameters:{type:"scam",url:e,tabId:a}},(e=>{n(e.excluded)}))})),c.onDetectionImpl=async(t,n)=>{if(p&&await c.isExcluded((0,e.C)(u)))return;console.debug("TSS: Removing suspicious iframes"),l=!0,document.querySelectorAll("iframe").forEach((e=>{e.remove()}));const o=p?document.referrer:null,r=(0,e.i)(null,u,t,n,null,null,o);window.location.replace(r)},c.onExclusion=e=>{console.debug("TSS: Excluding content tss (trigger: "+e+")"),d=!0,window.postMessage({type:"exclude",nonce:c.nonce},"*")},c.isRepeated=(e,t,n)=>{console.debug(`TSS: Checking if repeated ${n} times for interval ${t} against data: `,e);let o=Date.now();if(e.lastTime)if(o-e.lastTime<t){if(e.lastCount++,e.lastCount>=n)return!0}else e.lastTime=o,e.lastCount=1;else{if(1===n)return e.lastTime=o,e.lastCount=1,!0;e.lastTime=o,e.lastCount=1}return!1},c.onFullScreenChange=()=>{console.debug("TSS: Caught suspicious full screen spamming"),c.isRepeated(m,1e4,10)&&c.onDetection("scam","fullScreenLoop")},c.onAuthRequired=()=>{console.debug("TSS: Caught suspicious auth required - investigating for tech support scam"),c.isSuspiciousPage()&&c.onDetection("scam","authRequiredLoop")},c.initScriptListener=()=>{window.addEventListener("message",(e=>{e.source===window&&e.data.nonce===c.nonce&&"scam"===e.data.type&&c.onDetection(e.data.type,e.data.subtype)}),!1)},c.setup=()=>{c.initScriptListener(),window.addEventListener("beforeunload",(e=>{console.debug(`TSS: unload event (detected = ${l}): `,e),e.stopImmediatePropagation()}),!1),document.addEventListener("fullscreenchange",c.onFullScreenChange,!1),document.addEventListener("webkitfullscreenchange",c.onFullScreenChange,!1),document.addEventListener("mozfullscreenchange",c.onFullScreenChange,!1),t.chrome.runtime.onMessage.addListener(((e,t,n)=>{"authRequired"===e.type&&c.onAuthRequired()})),(0,e.r)(`\n        (function() {\n            let nonce = "${c.nonce}";\n            console.debug("TSS: hosted page injected");\n            // hook functions\n            let detected = false;\n            let excluded = false;\n            let lastHistoryData = {};\n            let lastPrintData = {};\n            let lastCreateURLData = {};\n            let lastNotificationData = {};\n\n            function setHook({object, f, subtype, detectFunc, proxy = passthru, isBrowserlocker = true}) {\n                let originalFunc = object[f];\n                object[f] = function() {\n                    if (detected && !excluded && isBrowserlocker) {\n                        throw new Error('Breaking Browser Locker Behavior detected'); // Forces a failure of the original Function\n                    }\n                    let parameters = [].slice.call(arguments);\n                    if (!excluded && detectFunc(parameters)) {\n                        detected = true;\n                    }\n                    if (detected && !excluded) {\n                        notify(subtype, parameters);\n                    }\n                    if (detected && !excluded && isBrowserlocker) {\n                        throw new Error('Breaking Browser Locker Behavior detected'); // Forces a failure of the original Function\n                    }\n                    return proxy(originalFunc, this, parameters);\n                };\n            }\n\n            function notify(subtype, parameters) {\n                window.top.postMessage(JSON.parse(JSON.stringify({type: 'scam', subtype, parameters, nonce})), "*" );\n            }\n\n            function passthru( originalFunc, object, parameters ) {\n                return originalFunc.apply( object, parameters );\n            }\n\n            // detection logic\n            ${c.isSuspiciousPage.toString()};\n            var isRepeatedVar = ${c.isRepeated.toString()};\n\n            function isRepeated(data, interval, threshold) {\n                return isRepeatedVar(data, interval, threshold);\n            }\n\n            function onPrint(parameters) {\n                console.debug("TSS: caught print");\n                return isRepeated(lastPrintData, 10000, 3);\n            }\n\n            function onHistoryPush(parameters) {\n                console.debug("TSS: Counted history being pushed");\n                return onHistory(parameters);\n            }\n\n            function onHistoryReplace(parameters) {\n                console.debug("TSS: Counted history being replaced");\n                return onHistory(parameters);\n            }\n\n            function onHistory( parameters ) {\n                console.debug( "TSS: caught history" );\n                // detect if >= 500 repeated history modifications within 1 second\n                return isRepeated( lastHistoryData, 1000, 500 );\n            }\n\n            function onWebstore( parameters ) {\n                console.debug( "TSS: caught webstore install" );\n                return true;\n            }\n\n            function onCreateURL( parameters ) {\n                console.debug( "TSS: caught create URL" );\n                // detect if >= 500 repeated URL creations within 1 second\n                return isRepeated( lastCreateURLData, 1000, 500 );\n            }\n\n            function onInstallXPI( parameters ) {\n                console.debug( "TSS: caught install XPI" );\n                return true;\n            }\n\n            function onNotification( parameters ) {\n                console.debug( "TSS: caught notification permission request" );\n                return isRepeated( lastNotificationData, 5000, 2 );\n            }\n\n            // set hooks\n            setHook({object: window, f: "print", subtype: "printLoop", detectFunc: onPrint});\n            setHook({object: window.history, f: "pushState", subtype: "historyLoop", detectFunc: onHistoryPush});\n            window.setTimeout(function() {\n                setHook(\n                    {object: window.history, f: "replaceState", subtype: "historyLoop", detectFunc: onHistoryReplace}\n                );\n            }, 2000);\n            setHook({object: URL, f: "createObjectURL", subtype: "createURLLoop", detectFunc: onCreateURL});\n\n            if (window.chrome && window.chrome.webstore) {\n                setHook({\n                    object: chrome.webstore,\n                    f: "install",\n                    subtype: "extensionInstall",\n                    detectFunc: onWebstore,\n                    isBrowserlocker: false\n                });\n            }\n\n            if (window.InstallTrigger) {\n                setHook({\n                    object: window.InstallTrigger,\n                    f: "install",\n                    subtype: "extensionInstall",\n                    detectFunc: onInstallXPI,\n                    isBrowserlocker: false\n                });\n            }\n\n            if (window.Notification) {\n                setHook({\n                    object: window.Notification,\n                    f: "requestPermission",\n                    subtype: "notificationLoop",\n                    detectFunc: onNotification,\n                    isBrowserlocker: false\n                });\n            }\n\n            // listen for exclusions notifications\n            window.addEventListener( "message",\n                function( event ) {\n                    if ( event.source === window && event.data.nonce === nonce ) {\n                        if ( event.data.type === "exclude" ) {\n                            excluded = true;\n                        }\n                    }\n                }, false\n            );\n        })();\n    `),(()=>{if("http:"===window.location.protocol){const e=document.getElementsByTagName("input");return Array.from(e).some((e=>e.attributes&&e.attributes.autocomplete&&e.attributes.autocomplete.value&&i.includes(e.attributes.autocomplete.value.toLowerCase())))}})()&&(console.debug("TSS: Caught unsafe checkout"),c.onDetection("scam","suspiciousPage")),setTimeout((()=>{c.isSuspiciousPage()&&c.onSuspiciousPage()}),1e3)},Object.keys(o.l).some((e=>window.location.host&&window.location.host.endsWith("."+e)))&&(console.debug("TSS: Risky TLD, aggressive protection"),c.initScriptListener(),(0,e.r)(`\n        let originalFunc = window.Notification.requestPermission;\n\n        window.Notification.requestPermission = function () {\n            console.debug("TSS: Detected a suspicious permission request");\n            let parameters = [].slice.call(arguments);\n            window.top.postMessage(\n                JSON.parse(\n                    JSON.stringify({\n                        type: "scam",\n                        subtype: "notificationLoop",\n                        parameters,\n                        nonce: "${c.nonce}",\n                    })\n                ),\n                "*"\n            );\n\n            return originalFunc.apply(this, parameters);\n        };\n    `)),c.getTabId().then((e=>{a=e,t.chrome.runtime.sendMessage({type:"isExcluded",parameters:{type:"scam",url:u,tabId:a}},(e=>{console.debug("TSS: excluded result: ",e),e.excluded?c.onExclusion("send-mesage"):c.setup()}))})),r.b.test(window.location)&&!r.a.test(window.location)&&t.chrome.runtime.sendMessage({type:"MSG_SETTINGS_GET",payload:"enableSkimmerProtection"},(t=>{if(!t||t.error)return console.debug("TSS: skimmer error ",t);t&&t.success&&(console.debug("TSS: Init skimmer protection"),(0,e.r)("\n        setTimeout(() => (devtools = true), 1000);\n        window.Firebug = {chrome: {isInitialized: true}};\n    "))}))})(),(()=>{"use strict";var e=n(7456),t=n(4846);const o=["0nedr1ve","0nedrive","0nedrlve","0utl00k","0utlook","1cloud","1nstagram","1tunes","account-recovery","account-valid","account-verif","ad0be","apple","appleid","appsid","auth","authenticat","authoriz","authsignin","bank","barc1ays","barclays","centurylink","chase","citizensbank","dr0pb0x","dr0pbox","dropb0x","dropbox","ebay","f0rgot","faceb00k","faceb0ok","facebo0k","facebook","findmy","flickr","fortnite","gmaii","gmail","gmali","lmstagram","lnbox","lnstagram","login-micros","loginmicros","loyds","ltunes","m1crosoft","micr0s0ft","micr0soft","micros0ft","microsoft","mlcrosoft","navyfederal","nertflix","netfiix","netfilx","netfix","netfl1x","netfliix","netflix","netfllx","netgear","netlfix","netrflix","off1ce","office365","offlce","onedr1ve","onedrive","onedrlve","outl00k","outlook","p4yment","p4ymnt","paypal","recover-","recovery-account","santander","sberbank","secur","slgnin","usaa","usaa","verizon","wellsfargo","westernunion","whatsapp","xfinity","yah00"],r="Safari"===(0,e.f)(),s=["log in","login","password","sigin","sign in"],i=(e,n)=>{t.chrome.runtime.sendMessage({type:"detection",parameters:{type:e,subtype:n,url:window.location.href}},(({detect:t})=>{t&&a(e,n)}))},a=(t,n)=>{console.debug("PHISH: Removing suspicious iframes"),document.querySelectorAll("iframe").forEach((e=>{e.remove()}));const o=r?document.location:null,s=(0,e.i)(null,window.location.href,t,n,null,null,o);window.location.replace(s)},c=()=>{let t;if(((e="")=>(e.endsWith(".")?e.slice(0,-1):e).toLowerCase())(window.location.pathname).endsWith("login.php")&&(t=document.body.innerText&&document.body.innerText.toLowerCase(),["natwest.com","card number"].some((e=>t.includes(e)))&&(console.debug("PHISH: Caught a Phishing page"),r?a("scam","phishing"):i("scam","phishing"))),"http:"===window.location.protocol&&(0,e.u)(window.location.hostname)){const e=window.location.href&&window.location.href.toLowerCase();e&&o.some((t=>e.includes(t)))&&(t=t||document.body.innerText&&document.body.innerText.toLowerCase(),t&&s.some((e=>t.includes(e)))&&(console.debug("PHISH: Caught a Phishing page"),r?a("scam","phishing"):i("scam","phishing")))}};r?new Promise(((e,n)=>{t.chrome.runtime.sendMessage({type:"MSG_TAB_ID_GET"},(t=>{t&&t.tabId?e(t.tabId):n(new Error(t))}))})).then((e=>{t.chrome.runtime.sendMessage({type:"isExcluded",parameters:{type:"scam",domain:window.location.hostname,tabId:e}},(e=>e&&!e.excluded&&c()))})):t.chrome.runtime.sendMessage({type:"isExcluded",parameters:{type:"scam",url:window.location.href}},(e=>e&&!e.excluded&&c()))})(),(()=>{"use strict";var e=n(4846);const t=e.chrome.i18n.getUILanguage().split("-")[0];var o=n(7456);const r={};let s=!0;r.allowScamsOnThisSite=()=>new Promise(((t,n)=>{e.chrome.runtime.sendMessage({type:"MSG_ADD_ALLOW",payload:{host:(0,o.C)(window.location.href)}},(function(e){!e||e.error?n(e?e.error:null):t(e.success)}))})),r.attachEvents=e=>{e.getElementById("disable-shell-warning").addEventListener("click",(async()=>{try{await r.allowScamsOnThisSite(),s=!1,document.getElementById("malwarebytes-root").remove()}catch(e){console.error("CONTENT_SHELL: allowScamsOnThisSite failure",e)}}))},r.attachText=n=>{((t,n=document)=>{[{id:"native-messaging-header",msg:"shellInjectionWarningHeader"},{id:"native-messaging-message",msg:"shellInjectionWarningMessage"},{id:"disable-shell-warning",msg:"buttonDisableShellWarning"}].forEach((({id:t,msg:o,sub:r=null})=>{const s=n.getElementById(t);s&&(s.textContent=e.chrome.i18n.getMessage(o,r))}))})(0,n),["ru","de","es","pl","nl"].some((e=>e===t))?n.querySelector(".ui.message").style.height="150px":n.querySelector(".ui.message").style.height="145px",r.attachEvents(n)},r.fontPath="vendor/graphik/web/graphik",r.fontStyles=()=>{const t=document.createElement("style");return t.appendChild(document.createTextNode(`\n            @font-face {\n              font-family: 'graphik-web';\n              src: url('${e.chrome.runtime.getURL(`${r.fontPath}-bold-web.eot`)}');\n              src: url('${e.chrome.runtime.getURL(`${r.fontPath}-bold-web.eot?#iefix`)}') format('embedded-opentype'),\n                   url('${e.chrome.runtime.getURL(`${r.fontPath}-bold-web.woff2`)}') format('woff2'),\n                   url('${e.chrome.runtime.getURL(`${r.fontPath}-bold-web.woff`)}') format('woff');\n              font-weight: 700;\n              font-style: normal;\n              font-stretch: normal;\n            }\n            @font-face {\n              font-family: 'graphik-web';\n              src: url('${e.chrome.runtime.getURL(`${r.fontPath}-lightitalic-web.eot`)}');\n              src: url('${e.chrome.runtime.getURL(`${r.fontPath}-lightitalic-web.eot?#iefix`)}') format('embedded-opentype'),\n                   url('${e.chrome.runtime.getURL(`${r.fontPath}-lightitalic-web.woff2`)}') format('woff2'),\n                   url('${e.chrome.runtime.getURL(`${r.fontPath}-lightitalic-web.woff`)}') format('woff');\n                   font-weight: 300;\n                   font-style: italic;\n                   font-stretch: normal;\n            }\n            @font-face {\n              font-family: 'graphik-web';\n              src: url('${e.chrome.runtime.getURL(`${r.fontPath}-regular-web.eot`)}');\n              src: url('${e.chrome.runtime.getURL(`${r.fontPath}-regular-web.eot?#iefix`)}') format('embedded-opentype'),\n                   url('${e.chrome.runtime.getURL(`${r.fontPath}-regular-web.woff2`)}') format('woff2'),\n                   url('${e.chrome.runtime.getURL(`${r.fontPath}-regular-web.woff`)}') format('woff');\n              font-weight: 400;\n              font-style: normal;\n              font-stretch: normal;\n            }\n            @font-face {\n              font-family: 'graphik-web';\n              src: url('${e.chrome.runtime.getURL(`${r.fontPath}-bolditalic-web.eot`)}');\n              src: url('${e.chrome.runtime.getURL(`${r.fontPath}-bolditalic-web.eot?#iefix`)}')\n                   format('embedded-opentype'),\n                   url('${e.chrome.runtime.getURL(`${r.fontPath}-bolditalic-web.woff2`)}')\n                   format('woff2'),\n                   url('${e.chrome.runtime.getURL(`${r.fontPath}-bolditalic-web.woff`)}')\n                   format('woff');\n              font-weight: 700;\n              font-style: italic;\n              font-stretch: normal;\n            }\n            @font-face {\n              font-family: 'graphik-web';\n              src: url('${e.chrome.runtime.getURL(`${r.fontPath}-medium-web.eot`)}');\n              src: url('${e.chrome.runtime.getURL(`${r.fontPath}-medium-web.eot?#iefix`)}') format('embedded-opentype'),\n                   url('${e.chrome.runtime.getURL(`${r.fontPath}-medium-web.woff2`)}') format('woff2'),\n                   url('${e.chrome.runtime.getURL(`${r.fontPath}-medium-web.woff`)}') format('woff');\n              font-weight: 500;\n              font-style: normal;\n              font-stretch: normal;\n            }\n      `)),t},r.isExcluded=()=>new Promise((t=>{e.chrome.runtime.sendMessage({type:"isExcluded",parameters:{type:"scam",url:window.location.href}},(e=>{e&&!e.excluded?t(!1):t(!0)}))}));const i=[/^.*;\s*(.|\s)*$/gm,/^.+(\s*)\|(\s*).+$/gm,/^\w+(\s*)`.+`$/gm,/^\w+(\s*)'.+'$/gm,/^.+\$\(\w+.*\)$/gm,/^(.*\s+)*curl|ls|rm|cp|mv|touch|cd|wget(\s+.*)*$/gm];r.loadSvgs=t=>{t.getElementById("mb-info-icon").src=e.chrome.runtime.getURL("app/assets/tooltip.svg"),t.getElementById("mb-close-icon").src=e.chrome.runtime.getURL("app/assets/close-icon.svg")},r.injectHtml=()=>{fetch(e.chrome.runtime.getURL("app/eventpages/message.html")).then((e=>e.text())).then((e=>{const t=(new DOMParser).parseFromString(e,"text/html");r.loadSvgs(t);const n=document.createElement("div");n.setAttribute("id","malwarebytes-root"),n.appendChild(r.fontStyles()),document.body.appendChild(n);const o=n.attachShadow({mode:"open"});o.appendChild(t.body),r.attachText(o),o.getElementById("mb-close-button").addEventListener("click",(()=>document.getElementById("malwarebytes-root").remove()))})).catch((e=>{console.log("ERROR: ",e)}))},r.init=async()=>{await r.isExcluded()?console.debug("CONTENT_SHELL: Page allowed. Skipping shell injection blocks"):document.addEventListener("copy",(async e=>{const t=e.clipboardData.getData("text/plain");var n;n=t,i.some((e=>e.test(n)))&&s&&(console.debug("CONTENT_SHELL: Malicious Copy Event detected",e,t),r.injectHtml())}))},r.init()})(),(()=>{"use strict";var e=n(4846);console.debug("INS: content-blocked-items.js loaded:  "+window.location.href),e.chrome.runtime.onMessage.addListener((e=>{if("blockMedia"===e.type){const t=((e="")=>{try{const t=new URL(e);return e.replace(`${t.protocol}//${t.host}`,"")}catch(t){return e}})(e.src);let n;"image"==e.mediaType?n=document.querySelector(`img[src$="${t}"]`):"video"==e.mediaType&&(n=document.querySelector(`video[src$="${t}"]`)),n&&(n.style.display="none")}return!0}))})()})();